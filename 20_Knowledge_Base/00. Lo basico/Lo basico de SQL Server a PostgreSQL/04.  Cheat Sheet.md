Perfecto, Armando.  
AquÃ­ tienes tu **cheat sheet oficial Tâ€‘SQL â†’ PostgreSQL**, en **Markdown**, optimizada para desarrolladores .NET que dominan SQL Server pero quieren trabajar tambiÃ©n con PostgreSQL para Microâ€‘SaaS modernos.

La puedes copiar directamente a **OneNote**, **Obsidian**, **MkDocs**, **GitHub**, etc.

---

# #ï¸âƒ£ Tâ€‘SQL â†’ PostgreSQL Cheat Sheet

**MigraciÃ³n mental rÃ¡pida para desarrolladores SQL Server**

---

## ğŸŸ¦ 1. Tipos de datos equivalentes

|SQL Server|PostgreSQL|Notas|
|---|---|---|
|`INT`|`INTEGER`|Igual.|
|`BIGINT`|`BIGINT`|Igual.|
|`BIT`|`BOOLEAN`|Usa `true/false`.|
|`VARCHAR(n)`|`VARCHAR(n)`|Igual.|
|`NVARCHAR(n)`|`VARCHAR(n)`|PostgreSQL es UTFâ€‘8 nativo.|
|`NVARCHAR(MAX)`|`TEXT`|Sin lÃ­mites prÃ¡cticos.|
|`DATETIME` / `DATETIME2`|`TIMESTAMP`|Sin zona horaria por defecto.|
|`DATETIMEOFFSET`|`TIMESTAMP WITH TIME ZONE`|Equivalente correcto.|
|`UNIQUEIDENTIFIER`|`UUID`|Muy usado en microâ€‘SaaS.|
|`MONEY`|`NUMERIC(19,4)`|Sin tipo â€œmoneyâ€ nativo.|

---

## ğŸŸ¦ 2. Funciones comunes

### ComparaciÃ³n rÃ¡pida

|OperaciÃ³n|SQL Server (Tâ€‘SQL)|PostgreSQL|
|---|---|---|
|Fecha actual|`GETDATE()`|`NOW()`|
|Longitud|`LEN(col)`|`LENGTH(col)`|
|Reemplazo NULL|`ISNULL(a,b)`|`COALESCE(a,b)`|
|MayÃºsculas|`UPPER(col)`|`UPPER(col)`|
|Substring|`SUBSTRING(col,1,3)`|`SUBSTRING(col FROM 1 FOR 3)`|

---

## ğŸŸ¦ 3. SELECT TOP â†’ LIMIT

-- SQL Server

SELECT TOP 10 * FROM People;

  

-- PostgreSQL

SELECT * FROM people LIMIT 10;

Con paginaciÃ³n:

SELECT * FROM people

LIMIT 10 OFFSET 20;

---

## ğŸŸ¦ 4. Variables, IF, bloques

### SQL Server

DECLARE @x INT = 10;

IF @x > 5

BEGIN

Â Â Â  PRINT 'Mayor';

END

### PostgreSQL

DO $

DECLARE

Â Â Â  x INTEGER := 10;

BEGIN

Â Â Â  IF x > 5 THEN

Â Â Â Â Â Â Â  RAISE NOTICE 'Mayor';

Â Â Â  END IF;

END;

$;

---

## ğŸŸ¦ 5. Stored Procedures â†’ Functions

### SQL Server

CREATE PROCEDURE GetPeople

AS

BEGIN

Â Â Â  SELECT * FROM People;

END;

### PostgreSQL

CREATE OR REPLACE FUNCTION get_people()

RETURNS SETOF people AS $

BEGIN

Â Â Â  RETURN QUERY SELECT * FROM people;

END;

$ LANGUAGE plpgsql;

> PostgreSQL **no tiene stored procedures tradicionales**: todo se hace con funciones.

---

## ğŸŸ¦ 6. Triggers (Inserted/Deleted â†’ NEW/OLD)

### SQL Server

SELECT * FROM inserted;

### PostgreSQL

NEW.column_name

Ejemplo tÃ­pico:

CREATE TRIGGER people_update

BEFORE UPDATE ON people

FOR EACH ROW

EXECUTE FUNCTION audit_people();

---

## ğŸŸ¦ 7. Identity â†’ SERIAL / IDENTITY

### SQL Server

Id INT IDENTITY(1,1)

### PostgreSQL

Id SERIAL

-- o moderno:

Id INTEGER GENERATED ALWAYS AS IDENTITY

---

## ğŸŸ¦ 8. Transacciones

### SQL Server

BEGIN TRAN;

COMMIT;

### PostgreSQL

BEGIN;

COMMIT;

---

## ğŸŸ¦ 9. Schemas (idÃ©nticos a SQL Server)

Tu estrategia de multitenencia por esquema funciona perfecto.

CREATE SCHEMA tenant_01;

CREATE SCHEMA tenant_02;

---

## ğŸŸ¦ 10. Ãndices

### SQL Server

CREATE INDEX idx_name ON People (Name);

### PostgreSQL

CREATE INDEX idx_name ON people (name);

> PostgreSQL tambiÃ©n crea Ã­ndices automÃ¡ticamente para `PRIMARY KEY`, `UNIQUE` y `FOREIGN KEY`.

---

## ğŸŸ¦ 11. Diferencias importantes a recordar

### PostgreSQL NO tiene:

- SQL Server Agent
- SSIS / SSRS
- Columnstore al estilo SQL Server
- CLR integrado

### PERO PostgreSQL tiene extensiones muy poderosas:

- `pgvector` â†’ IA embeddings
- `postgis` â†’ GIS
- `timescaledb` â†’ series de tiempo
- `citus` â†’ escalamiento distribuido
- `pg_cron` â†’ tareas programadas

Perfecto para microâ€‘SaaS e IA.

---

## ğŸŸ¦ 12. Consultas multiâ€‘schema (Ãºtil para multitenancy)

SELECT * FROM tenant01.users;

SELECT * FROM tenant02.orders;

TambiÃ©n puedes expandir el `search_path`:

SET search_path TO tenant01, public;

---

## ğŸŸ¦ 13. ConversiÃ³n mental rÃ¡pida

**Piensa asÃ­:**

> â€œPostgreSQL es SQL Server, pero sin las partes corporativas y con un ecosistema moderno.â€

- Tu conocimiento SQL sigue vÃ¡lido
- Cambia la sintaxis en funciones
- Cambian algunos tipos de datos
- Cambia la forma de escribir procedimientos
- El paradigma general **no cambia**

---

## ğŸŸ¦ 14. Bonus: Diccionario Tâ€‘SQL â†’ PostgreSQL

|Concepto|Tâ€‘SQL|PostgreSQL|
|---|---|---|
|ConcatenaciÃ³n|`'A' + 'B'`|`'A' \| 'B'`|
|Comentario lÃ­nea|`-- texto`|`-- texto`|
|Comentario bloque|`/* ... */`|`/* ... */`|
|Booleanos|`0/1`|`true/false`|
|AutoID|`IDENTITY`|`SERIAL` / `IDENTITY`|
|Print|`PRINT`|`RAISE NOTICE`|

---

## ğŸŸ¦ 15. ConclusiÃ³n del Cheat Sheet

Ya no estÃ¡s â€œaprendiendo PostgreSQL desde ceroâ€.  
EstÃ¡s **trasladando tu conocimiento de SQL Server** a un dialecto distinto pero muy compatible con tu forma de pensar.

Tus bases mentales funcionan perfectamente aquÃ­.

---

Si quieres, genero tambiÃ©n un **segundo Markdown** con:

- Ejemplos completos de consultas avanzadas
- OptimizaciÃ³n
- DDL completo comparado
- MigraciÃ³n de procedimientos reales
- GuÃ­a para Azure PostgreSQL Flexible Server

Â¿Quieres la versiÃ³n extendida?